{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="{% static 'Pack/backii.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/lightbox.css' %}" rel="stylesheet">
    <link href="{% static 'css/responsive.css' %}" rel="stylesheet">
    <link href="{% static 'css/linenum.css' %}" rel="stylesheet">
    <link href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet" />
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet"/>
    <title>Hello, world!</title>
      <style>
          .btn-groupc {
            margin: 0 auto;
            text-align: center;
            width: inherit;
            display: inline-block;
            }

            .my-custom-scrollbar {
            position: relative;
            height: 100%;
            overflow: auto;
            }
            .table-wrapper-scroll-y {
            display: block;
            }
      </style>
  </head>
  <body>
   <section>
       <div class="container-fluid">
           <div class="row">
               <div class="col-9">
                   <div class="row" style="margin-top:10px;">
                        <div class="btn-groupc" role="group">
                            {% if messages %}
                                {% for message in messages %}
                                    {% if message.tags == 'success'%}
                                        <script>


                                                   toastr.options = {

                                                      "closeButton": true,
                                                      "debug": false,
                                                      "newestOnTop": false,
                                                      "progressBar": false,
                                                      "positionClass": "toast-bottom-right",
                                                      "preventDuplicates": false,
                                                      "onclick": null,
                                                      "showDuration": "300",
                                                      "hideDuration": "1000",
                                                      "timeOut": "5000",
                                                      "extendedTimeOut": "1000",
                                                      "showEasing": "swing",
                                                      "hideEasing": "linear",
                                                      "showMethod": "fadeIn",
                                                      "hideMethod": "fadeOut"
                                                    }
                                          </script>
                                        <script type=text/javascript>toastr.{{ message.tags }}('{{ message }}','Success!')</script>
                                        <script type="text/javascript">
                                                 function abcd(){
                                                     window.location.href = '#simulator';
                                                            }
                                                            abcd();
                                        </script>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}

                            {% csrf_token %}
                            <button id="run" onclick="location.href='{% url 'index' %}';a();" class="btn btn-success">Run</button>
                            {% csrf_token %}
                            <button id="step" onclick="location.href='{% url 'step' %}';a();" class="btn btn-info" Font-Bold="True" >Step</button>

                            <script type="text/javascript">
                                         function bbb(){
                                            var res = "{{ctn}}";
                                            var b = parseInt(res);
                                            var cells = document.getElementById("test").getElementsByTagName("tr");
                                                for (var i = 0; i <= cells.length; i++) {

                                                    if (cells[i].rowIndex == res) {
                                                        cells[i].style.backgroundColor = "#82E0AA";}

                                                    }
                                         }
                                     </script>

                            {% csrf_token %}
                            <button id="prev" class="btn btn-info">Prev</button>
                            {% csrf_token %}
                            <button id="reset" onclick="location.href='{% url 'reset' %}'" class="btn btn-primary" Font-Bold="True" >Reset</button>

                            <script type="text/javascript">
                                 function a(){
                                    var res = "{{result}}";
                                    var result

                                     if (res == "off")
                                     {
                                        document.getElementById("step").disabled = true;
                                        document.getElementById("run").disabled = true;
                                        document.getElementById("prev").disabled = true;
                                        document.getElementById("reset").disabled = false;
                                     }
                                   }
                            </script>
                            <script type="text/javascript">
                                var res = "{{result}}";
                                var result
                                 if (res == "False")
                                 {
                                    document.getElementById("step").disabled = true;
                                    document.getElementById("run").disabled = true;
                                    document.getElementById("prev").disabled = true;
                                    document.getElementById("reset").disabled = true;
                                 }
                                 else if (res == "True")
                                 {
                                    document.getElementById("step").disabled = false;
                                    document.getElementById("run").disabled = false;
                                    document.getElementById("prev").disabled = false;
                                    document.getElementById("reset").disabled = false;
                                 }
                             </script>
                        </div>
                   </div>
                <div class="row" style="margin-top:10px; margin-left:1px; margin-right:5px; height:600px">
                    <div class="table-responsive">
                        <div class="table-wrapper-scroll-y my-custom-scrollbar">
                            <table class="table">
                                <thead class="thead-dark">
                                    <tr class="bg-info">
                                      <th style="text-align:center; font-size:17px;" scope="col">PC</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">Basic Code</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">Type</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">Imm-1</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">Funct-7</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">rs2</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">rs1</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">Funct-3</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">rd</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">Imm-2</th>
                                      <th style="text-align:center; font-size:17px;" scope="col">Opcode</th>
                                    </tr>
                                  </thead>
                                    <tbody id="test">
                                  {% for i,j,k,l,m,n,o,p,q,r,s in data3 %}
                                    <tr style="text-align:center; font-size:16px; font-family:Courier">
                                      <td>{{i}}</td>
                                      <td>{{j}}</td>
                                      <td>{{k}}</td>
                                      <td>{{l}}</td>
                                      <td>{{m}}</td>
                                      <td>{{n}}</td>
                                      <td>{{o}}</td>
                                      <td>{{p}}</td>
                                      <td>{{q}}</td>
                                      <td>{{r}}</td>
                                      <td>{{s}}</td>
                                    </tr>
                                  {% endfor %}
                                  </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-top-10px; margin-left:1px; margin-right:5px;">
                    <textarea id="TextArea1" name="fresult"  runat="server" style=" margin-top:4px; width:100%; height: 155px; " placeholder="Console Output">{{fresult}}</textarea>
                </div>
            </div>
            <div class="col-3" style="padding-left:1px;">
                 <div class="row" style="margin-top:10px;">
                    <div class="btn-groupc" role="group">
                      <ul class="nav nav-tabs">
                          <li class="nav-item">
                            <a id="Button9" class="nav-link" href="#">Registers</a>
                          </li>
                          <li class="nav-item">
                            <a id="Button7" class="nav-link" href="#">Memory</a>
                          </li>
                          </li>
                      </ul>
                    </div>
                </div>
                 <div class="row" style="background-color:#ffffff; margin-top:6px; height:759px;">

                   <div id="hd" style="width:100%; height:759px; background-color:#74B2F1;" >
                     <!-- Memory Block -->
                     <div class="table-wrapper-scroll-y my-custom-scrollbar">

                      <table class="table table-bordered table-dark table-striped mb-0">

                        <!--Actual Code With Loop-->

                        <tr class="bg-primary">
                          <td rowspan="2">
                            <h4 style="text-decoration-line: underline; text-align:center;">Memory Address</h4>
                          </td>
                          <td colspan="4">
                            <h4  style="text-decoration-line: underline; text-align:center;">Memory Value</h4>
                          </td>
                        </tr>
                        <tr class="bg-primary">
                          <th style="text-decoration-line: underline; text-align:center;">+0
                          </th>
                          <th style="text-decoration-line: underline; text-align:center;">+1
                          </th>
                          <th style="text-decoration-line: underline; text-align:center;">+2
                          </th>
                          <th style="text-decoration-line: underline; text-align:center;">+3
                          </th>
                        </tr>




                          {% for k,l,m,n,o in data1 %}

                          <tr style="border-bottom:1px solid;">
                            <td style="text-align:center; font-size:14px; width:35%;">{{k}}</td>
                            <td style="text-align:center;font-size:14px;">{{l}}</td>
                            <td style="text-align:center;font-size:14px;">{{m}}</td>
                            <td style="text-align:center;font-size:14px;">{{n}}</td>
                            <td style="text-align:center;font-size:14px;">{{o}}</td>
                          </tr>

                          {%endfor%}

                      </table>

                    </div>

                   </div>
                   <div id="hd2" style="width:100%; height:759px; background-color: #74B2F1;" >
                    <div class="table-wrapper-scroll-y my-custom-scrollbar">

                      <table class="table table-bordered table-dark table-striped mb-0">

                        <!--Actual Code With Loop-->

                        <tr class="bg-primary">
                          <td>
                            <h3 style="text-decoration-line: underline; text-align:center;">Register Name</h3>
                          </td>
                          <td>
                            <h3 style="text-decoration-line: underline; text-align:center;">Register Value</h3>
                          </td>
                        </tr>
                          {% for i,j in data %}

                          <tr style="border-bottom:1px solid;">
                            <td style="text-align:center; font-size:19px;">{{j}}</td>
                            <td style="text-align:center;font-size:19px;">{{i}}</td>
                          </tr>

                          {%endfor%}

                      </table>

                    </div>

                  </div>

                 </div>
            </div>
        </div>
   </div>
   </section>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script type="text/javascript" src="{% static 'js/jquery.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript" src="{% static 'js/jquery.inview.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/wow.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/mousescroll.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/smoothscroll.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery.countTo.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/lightbox.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/main.js' %}"></script>
    <script>
        $(document).ready(function () {
            $("#hd").hide();
            $("#hd1").hide();
            $("#hd2").show();
        });
    </script>
    <script>
            $(document).ready(function () {

                $("#Button7").on('click', function () {
                    $("#hd").show();
                    $("#hd1").hide();
                    $("#hd2").hide();
                });
            });

        </script>
    <script>
                $(document).ready(function () {

                    $("#Button8").on('click', function () {
                        $("#hd").hide();
                        $("#hd1").show();
                        $("#hd2").hide();
                    });
                });

        </script>
    <script>
                $(document).ready(function () {

                    $("#Button9").on('click', function () {
                        $("#hd").hide();
                        $("#hd1").hide();
                        $("#hd2").show();
                    });
                });

        </script>
  <!---- Script for adding line numbers--->

  <script>
        var lines = document.getElementById("divlines");
        var txtArea = document.getElementById("editline");
        document.ready = function() {
            refreshlines();
            txtArea.onscroll = function () {
                lines.style.top = -(txtArea.scrollTop) + "px";
                return true;
            }
            txtArea.onkeyup = function () {
                refreshlines();
                return true;
            }
        }

        function refreshlines() {
            var nLines = txtArea.value.split("\n").length;
            lines.innerHTML = ""
            for (i=1; i<=nLines; i++) {
                lines.innerHTML = lines.innerHTML + i + "." + "<br />";
            }
            lines.style.top = -(txtArea.scrollTop) + "px";
        }
</script>
    <script src="{% static 'Scripts/jquery-1.10.2.js' %}"></script>
    <script src="{% static 'Pack/JQ.js' %}"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js" ></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<!--[if lt IE 9]>
    <script src="{% static 'js/html5shiv.js' %}"></script>
    <script src="{% static 'js/respond.min.js' %}"></script>
    <script src="{% static 'Scripts/linenum.js' %}"></script>
  <![endif]-->
  </body>
</html>